<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>GBO2 data show layout</title>
	<link rel="stylesheet" href="global.css">
	<style>
	</style>
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
	<div class="container">
		<div class="banner">Div .Banner</div>
		<div class="content">
			<div class="menu">	  
				Div .menu
			</div>
			<div class="main table-container">
<!-- Main Script area -->

<select id="name-dropdown">
    <option value="">MS selection</option>
</select>

<div class="container2">
<div class="image-box" >
	<img src="https://poe21c.github.io/react-gh-pages/img_MS/MSB00101.png" class="MS-img" />	
</div>

<div class="detail-box" >
<br/>
<img src="" />
<div class="table-header">
<span class="name">name</span>
<span class="ground">地適</span>
<span class="space">宇適</span>
<span class="level">LV 1</span>
</div>


<table>
<tbody>
<tr>
	<th><div class="color" style="background-color: #1E7086;"></div>COST</th>
	<td class="col2">0</td>
	<td class="col3"></td>
	<td class="col4"></td>
</tr>
<tr>
	<th><div class="color" style="background-color: #1E7086;"></div>機体HP</th>
	<td class="HP">21000</td>
	<td class="HP_add">[+1000]</td>
	<td class="col4">
		<div class="status-bar status-bar-hp">
			<div class="status-fill_basic" style="grid-column: 1 / calc(var(--HP_Basic) + 1); "></div> 
			<!--column-end = basic+1 -->
			<div class="status-fill_add" style="grid-column: calc(var(--HP_Basic) + 1) / calc(var(--HP_Basic) + 1 + var(--HP_Add));"></div> 
			<!--column-start = basic+1, column-end = add+1  -->
		</div>
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #64903A;"></div>耐実弾補正</th>
	<td>18</td>
	<td>[+20]</td>
	<td class="col4">
		<div class="status-bar status-bar-def">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 19;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 19;grid-column-end: 39;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #64903A;"></div>耐ビーム補正</th>
	<td>34</td>
	<td>[+0]</td>
	<td class="col4">
		<div class="status-bar status-bar-def">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 35;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 35;grid-column-end: 35;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #64903A;"></div>耐格闘補正</th>
	<td>34</td>
	<td>[+0]</td>
	<td class="col4">
		<div class="status-bar status-bar-def">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 35;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 35;grid-column-end: 35;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #585C24;"></div>射撃補正</th>
	<td>30</td>
	<td>[+0]</td>
	<td class="col4">
		<div class="status-bar status-bar-atk">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 31;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 31;grid-column-end: 31;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #585C24;"></div>格闘補正</th>
	<td>30</td>
	<td>[+0]</td>
	<td class="col4">
		<div class="status-bar status-bar-atk">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 31;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 31;grid-column-end: 31;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #644021;"></div>スピード</th>
	<td>135</td>
	<td>[+0]</td>
	<td class="col4">
		<div class="status-bar status-bar-spd">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 135;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 135;grid-column-end: 135;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #644021;"></div>高速移動</th>
	<td>230</td>
	<td>[+0]</td>
	<td class="col4">
		<div class="status-bar status-bar-spd">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 231;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 231;grid-column-end: 231;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #644021;"></div>スラスター</th>
	<td>80</td>
	<td>[+0]</td>
	<td class="col4">
		<div class="status-bar status-bar-booster">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 80;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 80;grid-column-end: 80;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
<tr>
	<th><div class="color" style="background-color: #644021;"></div>旋回</th>
	<td>72</td>
	<td>[+0]</td>
	<td class="col4">
		<div class="status-bar status-bar-turn">
		<div class="status-fill_basic" style="grid-column-start: 1;grid-column-end: 72;"></div> 
		<!--column-end = basic+1 -->
		<div class="status-fill_add" style="grid-column-start: 72;grid-column-end: 72;"></div> 
		<!--column-start = basic+1, column-end = add+1  -->
	</td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="parts-slot">
<h3>PARTS SLOT</h3>
<div class="slot">
<span>近距離: 5/19</span>
<div class="slot-bar">
	<div class="slot-fill_used" style="grid-column-start: 1;grid-column-end: 6;"></div> 
	<!--column-end = used+1 -->
	<div class="slot-fill_limit" style="grid-column-start: 6;grid-column-end: 20;"></div> 
	<!--column-start = used+1, column-end = max+1  -->
</div>
</div>
<div class="slot">
<span>中距離: 6/13</span>
<div class="slot-bar">
	<div class="slot-fill_used" style="grid-column-start: 1;grid-column-end: 7;"></div>
	<!--column-end = used +1 -->
	<div class="slot-fill_limit" style="grid-column-start: 7;grid-column-end: 14;"></div>
	<!--column-start = used+1, column-end = max+1  -->
</div>
</div>
<div class="slot">
<span>遠距離: 7/20</span>
<div class="slot-bar">
	<div class="slot-fill_used" style="grid-column-start: 1;grid-column-end: 8;"></div>
	<!--column-end = used +1 -->
	<div class="slot-fill_limit" style="grid-column-start: 8;grid-column-end: 21;"></div>
	<!--column-start = used+1, column-end = max+1  -->
</div>
</div>
</div>


<!-- Main Script area : END-->
			</div>
		</div>
	</div>
	
<script>
    $(document).ready(function() {
        $.ajax({
            url: 'https://poe21c.github.io/script/gbo_mecha_full.csv',
            dataType: 'text',
            mimeType: 'text/csv; charset=utf-8',
            success: function(data) {
                var rows = data.split('\n');
                var headers = rows[0].split(',');

                var nameIndex = headers.indexOf('名称');
                var lvIndex = headers.indexOf('LV');
                var addrIndex = headers.indexOf('属性');
                var costIndex = headers.indexOf('Cost');
                var addrIndex = headers.indexOf('属性');
                var HPIndex = headers.indexOf('HP');


                for (var i = 1; i < rows.length; i++) {
                    var rowData = rows[i].split(',');
                    if (rowData && rowData[lvIndex] === '1' && rowData[nameIndex]) {
                        $('#name-dropdown').append($('<option>', {
                            value: rowData[nameIndex],
                            text: rowData[nameIndex]
                        }));
                    }
                }

                $('#name-dropdown').change(function() {
                    var selectedName = $(this).val();
                    var selectedData = {};

                    for (var i = 1; i < rows.length; i++) {
                        var rowData = rows[i].split(',');
                        if (rowData && rowData[nameIndex] === selectedName) {
                            selectedData = rowData;
                            break;
                        }
                    }
				
				
				$('.table-header .name').text(selectedData[nameIndex]);
				$('.col2').text(selectedData[costIndex]);
				
				$('.HP').text(selectedData[HPIndex]);
				$(':root').css('--HP_Basic', selectedData[HPIndex]);
				
				
                });
            },
            error: function(error) {
                console.error("Error loading CSV:", error);
                $('#data-container').html("<p>Error loading data.</p>");
            }
        });
    });
</script>
</body>
</html>